function InitializeTab(){$(".tab").click(function(){$(".tab").removeClass("active");$(this).addClass("active");var n=$(this).attr("control");$(".tab_item").removeClass("active");$(n).addClass("active")})}function Counter(n,t,i){return new function(n,t,i){function h(){clearInterval(r);typeof f=="function"&&f()}function c(n){typeof e=="function"&&e(n)}function s(){if(u<0){h();return}c(u);u--}var f=n,e=t,o=i,r=null,u=o;this.Start=function(){u=o;r!=null&&clearInterval(r);r=setInterval(s,1e3);s()}}(n,t,i)}function ShowVerificationDialog(){HBVerify.Set({verifyid:"VERIFY_SEND_PHONECODE",viewmode:0,viewcontent:$("#idc_tab1"),onverify:function(n,t){console.log("验证通过!");verifyresult.value=n+"|"+t;HBVerify.Close();$("#idc_sendlogincode").click()}});HBVerify.Show()}function AsDialog(){$(".loginbox").css("position","fixed");$(".loginbox").css("left","150px");$(".loginbox").css("top","98px");$(".loginbox").css("border-radius","5px 5px 5px 5px");$(".navbar_logo").css("margin-left","230px");$(".loginbox").height(360)}$(function(){$("#idc_LoginForm").submit(function(){HB.Framework.Extension.Loading("#idc_submit");var n=$.trim($("#idc_userid").val()),t=$.trim($("#idc_userpwd").val());return $("#idc_agreelawer").get(0).checked?n==""?(HB.Alert("请输入手机号码"),HB.Framework.Extension.Reset("#idc_submit"),!1):/^1\d{10}$/.test(n)?t==""?(HB.Alert("请输入手机验证码"),HB.Framework.Extension.Reset("#idc_submit"),!1):($("#idc_userpwd_hide").val($.md5(t)),!0):(HB.Alert("手机号码格式无效"),HB.Framework.Extension.Reset("#idc_submit"),!1):(HB.Alert("请先阅读并同意注册协议!"),HB.Framework.Extension.Reset("#idc_submit"),!1)});$("#idc_LoginForm2").submit(function(){HB.Framework.Extension.Loading("#idc_submit2");var t=$.trim($("#idc_userid2").val()),n=$.trim($("#idc_userpwd2").val());return $("#idc_agreelawer2").get(0).checked?t==""?(HB.Alert("请输入通行证"),HB.Framework.Extension.Reset("#idc_submit2"),!1):n==""?(HB.Alert("请输入密码"),HB.Framework.Extension.Reset("#idc_submit2"),!1):($("#idc_userpwd2").val($.md5(n)),!0):(HB.Alert("请先阅读并同意注册协议!"),HB.Framework.Extension.Reset("#idc_submit2"),!1)});$("#idc_submit2").click(function(){if(!$("#idc_agreelawer2").get(0).checked)return HB.Alert("请先阅读并同意注册协议!"),!1;HBVerify.Set({verifyid:"VERIFY_PWD_LOGINCODE",viewmode:0,viewcontent:$("#idc_tab2"),onverify:function(n,t){console.log("验证通过!");$("#idc_checkcode2").val(n+"|"+t);HBVerify.Close();$("#idc_LoginForm2").submit()}});HBVerify.Show()});$(".findpwd").click(function(){window.location="ForgetX"});$("#idc_sendlogincode").click(function(){HB.Framework.Extension.Loading(this,"正在发送验证码...");var n=$.trim($("#idc_userid").val());if(n=="")return HB.Alert("请输入手机号码"),HB.Framework.Extension.Reset(this),!1;if(!/^1\d{10}$/.test(n))return HB.Alert("手机号码格式无效"),HB.Framework.Extension.Reset(this),!1;HB.LocalQuery("../common/createverificationcode",{ownertype:0,ownercode:n,checktype:3,checkcode:verifyresult.value},function(n,t){if(n.AjaxStatus)if(HB.IsSucess(t))Counter(function(){HB.Framework.Extension.Reset("#idc_sendlogincode");$("#idc_sendlogincode").val("重新发送验证码")},function(n){$("#idc_sendlogincode").val(n+"秒后可再次发送")},60).Start();else if(t.Code=="-8"){var i=/\d{1,2}/.exec(t.Message);Counter(function(){HB.Framework.Extension.Reset("#idc_sendlogincode");$("#idc_sendlogincode").val("重新发送验证码")},function(n){$("#idc_sendlogincode").val(n+"秒后可再次发送")},parseInt(i[0])).Start()}else t.Code=="-9"?ShowVerificationDialog():HB.Framework.Extension.Reset("#idc_sendlogincode");else HB.Framework.Extension.Reset("#idc_sendlogincode"),HB.Alert(t)})});InitializeTab();HB.QueryString("lt")=="1"&&$("#idc_tab_2").click()});var verifyresult={};
//# sourceMappingURL=OAuth2Login.min.js.map
